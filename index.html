<!DOCTYPE html>
<html>
  <head>
    <title>montevideo-gris</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {packages: ['calendar'], language: 'es'});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        fetch('data.csv')
          .then(response => response.text())
          .then(csvText => {
            const dataTable = new google.visualization.DataTable();
            dataTable.addColumn({ type: 'date', id: 'Date' });
            dataTable.addColumn({ type: 'number', id: 'Value' });

            const rows = csvText.split('\n').slice(1);
            const data = rows.map(row => {
              const [dateStr, value] = row.split(',');
              const dateParts = dateStr.split('-');
              const date = new Date(dateParts[0], dateParts[1] - 1, dateParts[2]);
              return [date, parseInt(value)];
            });
            dataTable.addRows(data);

            const chart = new google.visualization.Calendar(document.getElementById('calendar_basic'));

            const options = {
              height: 450,
              calendar: {
                // cellColor: {
                //   stroke: '#000000',
                //   strokeOpacity: 0.5,
                //   strokeWidth: 1,
                // }
              },
              colorAxis: {
                colors: ['#ffffff', '#aaaaaa', '#4a6583'],
                values: [0, 1, 2]
                
              },
              daysOfWeek: 'MTWTFSS'
            };

            chart.draw(dataTable, options);
          });
      }
    </script>
    <style>
      h1 {
        color: #777;
        margin: 1%;
      }
      #calendar_basic {
        transform: rotate(90deg);
        transform-origin: left;
      }
    </style>
  </head>
  <body>
    <h1>‚òÅÔ∏è montevideo-gris üåßÔ∏è</h1>
    <div id="calendar_basic" style="width: 1000px; height: 350px;"></div>
  </body>
</html>